{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport './styles.css'\n\nexport type ImageType = {\n  id: number,\n  url: string\n}\n\nconst ReactFancyVitrine: React.FC<{ images?: ImageType[] }> = ({ images }: any) => {\n  const [selectedImageIndex, setSelectedImageIndex] = useState(0)\n  const [selectedImage, setSelectedImage] = useState<ImageType>()\n  const carouselItemsRef = useRef<HTMLDivElement[] | null[]>([])\n\n  useEffect(() => {\n    if (images && images[0]) {\n      carouselItemsRef.current = carouselItemsRef.current.slice(\n        0,\n        images.length\n      )\n\n      setSelectedImageIndex(0)\n      setSelectedImage(images[0])\n    }\n  }, [images])\n\n  const handleSelectedImageChange = (newIdx: number) => {\n    if (images && images.length > 0) {\n      setSelectedImage(images[newIdx])\n      setSelectedImageIndex(newIdx)\n\n      if (carouselItemsRef?.current[newIdx]) {\n        carouselItemsRef?.current[newIdx]?.scrollIntoView(\n          {\n            inline: 'center',\n            behavior: 'smooth'\n          }\n        )\n      }\n    }\n  }\n\n  const handleRightClick = () => {\n    if (images && images.length > 0) {\n      let newIdx = selectedImageIndex + 1\n\n      if (newIdx >= images.length) {\n        newIdx = 0\n      }\n\n      handleSelectedImageChange(newIdx)\n    }\n  }\n\n  const handleLeftClick = () => {\n    if (images && images.length > 0) {\n      let newIdx = selectedImageIndex - 1\n\n      if (newIdx < 0) {\n        newIdx = images.length - 1\n      }\n\n      handleSelectedImageChange(newIdx)\n    }\n  }\n\n  return (\n    <div className='carousel-container'>\n      <div\n        className='selected-image'\n        style={{ backgroundImage: `url(${selectedImage?.url})` }}\n      />\n\n      <div className='carousel'>\n        <div className='carousel__images'>\n          {images &&\n            images.map((image: any, idx: any) => (\n              <div\n                onClick={() => handleSelectedImageChange(idx)}\n                style={{ backgroundImage: `url(${image.url})` }}\n                key={image.id}\n                className={`carousel__image ${selectedImageIndex === idx && 'carousel__image-selected'}`}\n                ref={(el) => (carouselItemsRef.current[idx] = el)}\n              />\n            ))}\n        </div>\n\n        <button\n          className='carousel__button carousel__button-left'\n          onClick={handleLeftClick}\n        >\n          Prev\n        </button>\n\n        <button\n          className='carousel__button carousel__button-right'\n          onClick={handleRightClick}\n        >\n          Next\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default ReactFancyVitrine\n"],"names":["ReactFancyVitrine","images","useState","selectedImageIndex","setSelectedImageIndex","selectedImage","setSelectedImage","carouselItemsRef","useRef","useEffect","current","slice","length","handleSelectedImageChange","newIdx","scrollIntoView","inline","behavior","handleRightClick","handleLeftClick","React","className","style","backgroundImage","url","map","image","idx","onClick","key","id","ref","el"],"mappings":"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"}